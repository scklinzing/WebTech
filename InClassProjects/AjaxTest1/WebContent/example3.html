<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ajax demos - Example 3</title>
<link href="bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<div class="container">
		<h1>Ajax demo - Example 3 - JSON with post</h1>

		<form method="Post">
			<p>
				User name: <input id="userName" type="text" name="userName">
				<span id="userNameError" class="error"></span>
			</p>

			<p>
				Password: <input id="password" type="password" name="userPassword">
				<span id="passwordError" class="error"></span>
			</p>

			<p>
				Retype password: <input id="retypedPassword" type="password"
					name="userPasswordRetyped"> <span
					id="retypedError" class="error"></span>
			</p>

			<p>
				<input type="submit" name="submit" value="Submit">
			</p>
		</form>
	</div>
	
	<script src="jquery/jquery-2.1.1.min.js"></script>
	<script src="bootstrap/3.3.0/js/bootstrap.min.js"></script>
	<script>
$(document).ready(function(){
  $("#userName").blur(function(){
    $.ajax({type: "POST",
    	    url:"controllers/jsonPostController.php",
    	    data: $(this).serialize(),
    	    dataType: 'json',
    	    success: function(result){$("#userNameError").html(JSON.stringify(result));},
            error: function() {
            	alert ('Failed to download JSON string');
            }
           });
  });
});
</script>
</body>
</html>